<!DOCTYPE html>
<html lang="en">
<head>
    <meta property="og:title" content="Modular Player Controller v3.0 - Complete Godot 4 Solution">
    <meta property="og:description" content="Production-ready modular player controller with full multiplayer, headless server support, and 3 integrated systems.">
    <meta property="og:image" content="https://sanjaygodot.netlify.app/images/og-sales.jpg">
    <meta property="og:url" content="https://sanjaygodot.netlify.app/sales.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modular Player Controller v3.0 - Complete Godot 4 Solution</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* Sales Page Specific Styles */
        .sales-hero {
            padding: 150px 0 80px;
            text-align: center;
            background: radial-gradient(circle at center, #1a1a2e 0%, #16213e 70%);
            color: white;
        }
        
        .sales-hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--accent);
            text-shadow: 0 2px 10px rgba(0, 217, 255, 0.3);
        }
        
        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            color: #ccc;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .badge {
            display: inline-block;
            background: linear-gradient(45deg, var(--primary), #ff6b35);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 2rem;
            font-size: 0.9rem;
        }
        
        .bundle-section {
            padding: 80px 0;
            background: var(--dark);
        }
        
        .bundle-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 3rem;
            align-items: start;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid rgba(255, 107, 53, 0.2);
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(255, 107, 53, 0.1);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }
        
        .feature-number {
            background: var(--primary);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .pricing-card {
            background: linear-gradient(135deg, var(--secondary) 0%, #1a1a2e 100%);
            padding: 2.5rem;
            border-radius: 20px;
            border: 2px solid var(--accent);
            position: sticky;
            top: 100px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .price-tag {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .price-old {
            text-decoration: line-through;
            color: #ccc;
            font-size: 1.2rem;
        }
        
        .price-new {
            font-size: 3rem;
            color: white;
            font-weight: bold;
            margin: 0.5rem 0;
        }
        
        .price-currency {
            font-size: 1.2rem;
            color: var(--accent);
        }
        
        .benefits-list {
            list-style: none;
            padding: 0;
            margin: 2rem 0;
        }
        
        .benefits-list li {
            padding: 0.8rem 0;
            padding-left: 2.5rem;
            position: relative;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .benefits-list li:before {
            content: "âœ“";
            color: var(--success);
            font-weight: bold;
            position: absolute;
            left: 0;
            font-size: 1.2rem;
        }
        
        .buy-button {
            background: linear-gradient(45deg, var(--primary), #ff6b35);
            color: white;
            border: none;
            padding: 1.2rem 2rem;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .buy-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(255, 107, 53, 0.3);
        }
        
        .buy-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        .guarantee-badge {
            text-align: center;
            margin-top: 1.5rem;
            color: #ccc;
            font-size: 0.9rem;
        }
        
        .guarantee-badge span {
            color: var(--success);
            font-weight: bold;
        }
        
        .demo-section {
            padding: 80px 0;
            background: var(--secondary);
        }
        
        .demo-video {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .video-placeholder {
            aspect-ratio: 16/9;
            background: linear-gradient(45deg, #1a1a2e, #16213e);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }
        
        .code-preview {
            background: #1e1e1e;
            border-radius: 10px;
            overflow: hidden;
            margin: 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .code-header {
            background: #2d2d30;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .code-tabs {
            display: flex;
            gap: 10px;
        }
        
        .code-tab {
            padding: 0.5rem 1rem;
            background: transparent;
            border: none;
            color: #ccc;
            cursor: pointer;
            border-radius: 5px;
        }
        
        .code-tab.active {
            background: var(--primary);
            color: white;
        }
        
        .code-content {
            padding: 1.5rem;
            font-family: 'Courier New', monospace;
            color: #d4d4d4;
            overflow-x: auto;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .faq-section {
            padding: 80px 0;
            background: var(--dark);
        }
        
        .faq-grid {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .faq-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            margin-bottom: 1rem;
            overflow: hidden;
        }
        
        .faq-question {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
        }
        
        .faq-answer {
            padding: 0 1.5rem 1.5rem;
            display: none;
            color: #ccc;
        }
        
        .faq-answer.show {
            display: block;
        }
        
        .comparison-section {
            padding: 80px 0;
            background: var(--secondary);
        }
        
        .comparison-table {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .table-header {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            background: rgba(0, 217, 255, 0.1);
            padding: 1.5rem;
            font-weight: bold;
        }
        
        .table-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            padding: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .table-row:last-child {
            border-bottom: none;
        }
        
        .check-cell {
            color: var(--success);
            font-weight: bold;
        }
        
        .cross-cell {
            color: #ff4444;
        }
        
        .payment-success {
            display: none;
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid var(--success);
            color: var(--success);
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            margin-top: 2rem;
        }
        
        .payment-success.show {
            display: block;
        }
        
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @media (max-width: 992px) {
            .bundle-container {
                grid-template-columns: 1fr;
            }
            
            .pricing-card {
                position: static;
                margin-top: 3rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .table-header, .table-row {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }
        
        @media (max-width: 768px) {
            .sales-hero h1 {
                font-size: 2.2rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
                padding: 0 1rem;
            }
            
            .price-new {
                font-size: 2.5rem;
            }
            
            .feature-card {
                padding: 1.5rem;
            }
        }
    </style>
    <!-- Razorpay Checkout Integration -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav>
                <div class="logo">GODOT ASSETS</div>
                <div class="nav-links">
                    <a href="index.html">Home</a>
                    <a href="blog.html">Blog</a>
                    <a href="scripts.html">Scripts</a>
                    <a href="sales.html" class="active">Premium Bundle</a>
                    <a href="minicourses.html">Mini Courses</a>
                    <a href="services.html">Services</a>
                    <a href="pvp-game.html">PVP Game Course</a>
                    <a href="course.html">Login</a>
                    <a href="index.html#contact">Contact</a>
                </div>
                <a href="#pricing" class="cta-button">Buy Now</a>
                <button class="mobile-menu-btn" id="mobileMenuBtn">â˜°</button>
            </nav>
        </div>
        
        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <div class="mobile-menu-header">
                <div class="logo">GODOT ASSETS</div>
                <button class="mobile-close-btn" id="mobileCloseBtn">âœ•</button>
            </div>
            <div class="mobile-nav-links">
                <a href="index.html">Home</a>
                <a href="blog.html">Blog</a>
                <a href="scripts.html">Scripts</a>
                <a href="sales.html" class="active">Premium Bundle</a>
                <a href="minicourses.html">Mini Courses</a>
                <a href="services.html">Services</a>
                <a href="pvp-game.html">PVP Game Course</a>
                <a href="course.html">Login</a>
                <a href="index.html#contact">Contact</a>
                <a href="#pricing" class="cta-button">Buy Now</a>
            </div>
        </div>
        <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
    </header>

    <!-- Hero Section -->
    <section class="sales-hero">
        <div class="container">
            <div class="badge">LIMITED TIME OFFER</div>
            <h1>Modular Player Controller v3.0</h1>
            <p class="hero-subtitle">Complete Godot 4 solution with full multiplayer, headless server support, and 3 integrated systems</p>
            <div class="target-audience">
                <div class="audience-item">Multiplayer Games</div>
                <div class="audience-item">Mobile Optimized</div>
                <div class="audience-item">Production Ready</div>
                <div class="audience-item">Godot 4.4</div>
            </div>
        </div>
    </section>

    <!-- Bundle Section -->
    <section class="bundle-section">
        <div class="container bundle-container">
            <div>
                <h2 class="section-title">Complete Modular System</h2>
                <p style="margin-bottom: 2rem; color: #ccc;">Three integrated scripts that work seamlessly together</p>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <span class="feature-icon">ðŸŽ®</span>
                        <h3>1. Player Controller</h3>
                        <p>Complete player system with weapon switching, stances, and combat mechanics.</p>
                        <ul class="features-list">
                            <li>4 Weapon Types with RPC sync</li>
                            <li>3 Stances with collision switching</li>
                            <li>Headless server optimized</li>
                            <li>Complete RPC network synchronization</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <span class="feature-icon">ðŸ’ƒ</span>
                        <h3>2. Animation Controller</h3>
                        <p>Advanced animation system with weapon-based and stance-based animations.</p>
                        <ul class="features-list">
                            <li>Weapon-based animations (GUN/MELEE/GRENADE)</li>
                            <li>Stance-based animations (NORMAL/CROUCH/PRONE)</li>
                            <li>Combat animations included</li>
                            <li>Headless server optimized</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <span class="feature-icon">ðŸŽ¥</span>
                        <h3>3. Camera Controller</h3>
                        <p>Complete camera control system with mouse look and bobbing effects.</p>
                        <ul class="features-list">
                            <li>Mouse look with sensitivity control</li>
                            <li>Camera bobbing when moving</li>
                            <li>View rotation limits</li>
                            <li>Headless server optimized</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Code Preview -->
                <div class="code-preview">
                    <div class="code-header">
                        <h4 style="margin: 0; color: white;">Code Preview</h4>
                        <div class="code-tabs">
                            <button class="code-tab active" onclick="showCode('player')">player.gd</button>
                            <button class="code-tab" onclick="showCode('animation')">animation.gd</button>
                            <button class="code-tab" onclick="showCode('camera')">mouse_rotation.gd</button>
                        </div>
                    </div>
                    <div class="code-content" id="playerCode">
                        <pre># MODULAR PLAYER CONTROLLER v3.0
# =================================
# A complete player controller with weapon switching, stance system,
# full RPC support, and integration points for external systems.

extends CharacterBody3D
class_name ModularPlayer

# Signals for external integration
signal weapon_changed(weapon_type: int, weapon_name: String)
signal weapon_fired(weapon_type: int, damage: int, ...)
signal stance_changed(new_stance: String, old_stance: String)
signal health_changed(current_health: int, max_health: int, ...)
signal player_died(killer_id: int, weapon_type: String)
signal player_respawned()

# Weapon System Configuration
enum WeaponType { 
    GUN = 0, MELEE = 1, GRENADE = 2, NONE = 3
}

@export_category("WEAPON NODES")
@export var gun_node: Node3D = null
@export var melee_node: Node3D = null
@export var grenade_node: Node3D = null

# Complete with 1000+ lines of production code...</pre>
                    </div>
                    <div class="code-content" id="animationCode" style="display: none;">
                        <pre># MODULAR ANIMATION CONTROLLER v3.0
# =================================
# A complete animation system for the Modular Player Controller.

extends Node3D
class_name ModularAnimationController

@export_category("REQUIRED REFERENCES")
@export var animation_player: AnimationPlayer = null
@export var character_reference: ModularPlayer = null

func animate(velocity: Vector3, stance: String, is_firing: bool = false, 
            is_aiming: bool = false, look_target: Vector3 = Vector3.ZERO):
    # Main animation function
    pass

# Complete with all animation states and transitions...</pre>
                    </div>
                    <div class="code-content" id="cameraCode" style="display: none;">
                        <pre># MODULAR CAMERA CONTROLLER v3.0
# =================================
# A complete camera control system for the Modular Player Controller.

extends Node3D
class_name ModularCameraController

@export_category("CAMERA SETTINGS")
@export var mouse_sensitivity: float = 0.005
@export var invert_y_axis: bool = false
@export var vertical_limit_min: float = -PI/2
@export var vertical_limit_max: float = PI/2

func _input(event: InputEvent):
    if event is InputEventMouseMotion:
        _handle_mouse_movement(event.relative)

# Complete camera control with bobbing effects...</pre>
                    </div>
                </div>
            </div>
            
            <!-- Pricing Card -->
            <div class="pricing-card" id="pricing">
                <div class="price-tag">
                    <div class="price-old">â‚¹4,999</div>
                    <div class="price-new">â‚¹2,499<span class="price-currency"> INR</span></div>
                    <div style="color: var(--accent); font-weight: bold;">50% OFF</div>
                </div>
                
                <h3 style="margin-bottom: 1.5rem; text-align: center;">What You Get</h3>
                <ul class="benefits-list">
                    <li>Complete Modular Player Controller (player.gd)</li>
                    <li>Advanced Animation Controller (animation.gd)</li>
                    <li>Camera Controller with mouse look (mouse_rotation.gd)</li>
                    <li>Full multiplayer RPC synchronization</li>
                    <li>Headless server optimization</li>
                    <li>Mobile optimization included</li>
                    <li>External system integration points</li>
                    <li>Detailed documentation</li>
                    <li>Example project files</li>
                    <li>1 year of updates</li>
                    <li>Priority email support</li>
                </ul>
                
                <button id="buyButton" class="buy-button" onclick="initiatePayment()">
                    <span id="buttonText">Buy Now - â‚¹2,499</span>
                    <span id="buttonLoader" class="loader" style="display: none;"></span>
                </button>
                
                <div class="guarantee-badge">
                    <span>30-Day Money Back Guarantee</span><br>
                    If you're not satisfied, get a full refund
                </div>
                
                <div id="paymentSuccess" class="payment-success">
                    <h3 style="color: var(--success); margin-top: 0;">ðŸŽ‰ Payment Successful!</h3>
                    <p>Your download link has been sent to your email. Check your inbox!</p>
                    <p>You'll also receive access to the private GitHub repository.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Demo Section -->
    <section class="demo-section">
        <div class="container">
            <h2 class="section-title">See It In Action</h2>
            <p style="text-align: center; margin-bottom: 2rem; color: #ccc;">Watch the modular controller system working</p>
            
            <div class="demo-video">
                <div class="video-placeholder">
                    <div style="text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">ðŸŽ®</div>
                        <p>Demo video coming soon</p>
                        <p style="font-size: 0.9rem; color: #999;">Showing weapon switching, stances, and multiplayer sync</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Comparison Section -->
    <section class="comparison-section">
        <div class="container">
            <h2 class="section-title">Why Choose Our System?</h2>
            <p style="text-align: center; margin-bottom: 2rem; color: #ccc;">Compare with other solutions</p>
            
            <div class="comparison-table">
                <div class="table-header">
                    <div>Feature</div>
                    <div>Our System</div>
                    <div>Free Assets</div>
                </div>
                <div class="table-row">
                    <div>Multiplayer RPC Sync</div>
                    <div class="check-cell">âœ“ Complete</div>
                    <div class="cross-cell">âœ— Basic/Nothing</div>
                </div>
                <div class="table-row">
                    <div>Headless Server Ready</div>
                    <div class="check-cell">âœ“ Optimized</div>
                    <div class="cross-cell">âœ— Missing</div>
                </div>
                <div class="table-row">
                    <div>Mobile Optimization</div>
                    <div class="check-cell">âœ“ Touch Controls</div>
                    <div class="cross-cell">âœ— Desktop Only</div>
                </div>
                <div class="table-row">
                    <div>Weapon System</div>
                    <div class="check-cell">âœ“ 4 Types + Stances</div>
                    <div class="cross-cell">âœ— Basic Only</div>
                </div>
                <div class="table-row">
                    <div>External Integration</div>
                    <div class="check-cell">âœ“ 15+ Signals</div>
                    <div class="cross-cell">âœ— Hardcoded</div>
                </div>
                <div class="table-row">
                    <div>Godot 4.4 Compatibility</div>
                    <div class="check-cell">âœ“ Fully Tested</div>
                    <div class="cross-cell">âœ— Outdated</div>
                </div>
                <div class="table-row">
                    <div>Documentation</div>
                    <div class="check-cell">âœ“ Complete Guide</div>
                    <div class="cross-cell">âœ— Minimal</div>
                </div>
                <div class="table-row">
                    <div>Support & Updates</div>
                    <div class="check-cell">âœ“ 1 Year Included</div>
                    <div class="cross-cell">âœ— None</div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
        <div class="container">
            <h2 class="section-title">Frequently Asked Questions</h2>
            
            <div class="faq-grid">
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(1)">
                        <span>Do I need to know GDScript to use this?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer" id="faq1">
                        No! The system is designed to work out of the box. Just attach the scripts to your nodes, assign the exported variables, and you're ready. However, basic GDScript knowledge will help with customization.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(2)">
                        <span>Is this compatible with my existing project?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer" id="faq2">
                        Yes! The modular design means you can integrate it piece by piece. Use the signal-based integration system to connect with your existing inventory, vehicle, or dialogue systems without rewriting code.
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(3)">
                        <span>How do I get the files after purchase?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer" id="faq3">
                        Immediately after successful payment, you'll receive:
                        1. Download link via email
                        2. Access to private GitHub repository
                        3. Documentation and setup guide
                        4. Example project files
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(4)">
                        <span>What if I need help setting it up?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer" id="faq4">
                        You get 1 year of priority email support. We'll help you with:
                        - Initial setup and configuration
                        - Integration with your project
                        - Bug fixes and troubleshooting
                        - Performance optimization
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(5)">
                        <span>Can I use this for commercial games?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer" id="faq5">
                        Absolutely! You can use this system in any commercial game without royalties or additional fees. The license is perpetual for the version you purchase.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <h2>Start Building Your Game Today</h2>
            <p>Stop wasting time on basic systems. Get production-ready code that's been tested in real multiplayer games.</p>
            <a href="#pricing" class="cta-button-light" style="margin-top: 2rem;">Buy Modular Bundle â†’</a>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="logo" style="margin-bottom: 1rem;">GODOT ASSETS</div>
            <p>Ready-made Godot Scripts & Systems for Faster Game Development</p>
            <div style="margin-top: 2rem; font-size: 0.9rem; color: #ccc;">
                Â© 2024 Godot Game Assets Marketplace. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Mobile Menu (reuse from main script)
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileCloseBtn = document.getElementById('mobileCloseBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');

        function openMobileMenu() {
            mobileMenu.classList.add('active');
            mobileMenuOverlay.classList.add('active');
            document.body.classList.add('menu-open');
        }

        function closeMobileMenu() {
            mobileMenu.classList.remove('active');
            mobileMenuOverlay.classList.remove('active');
            document.body.classList.remove('menu-open');
        }

        mobileMenuBtn.addEventListener('click', openMobileMenu);
        mobileCloseBtn.addEventListener('click', closeMobileMenu);
        mobileMenuOverlay.addEventListener('click', closeMobileMenu);

        // Code Preview Tabs
        function showCode(type) {
            // Hide all code blocks
            document.querySelectorAll('.code-content').forEach(el => {
                el.style.display = 'none';
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.code-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected code block
            document.getElementById(type + 'Code').style.display = 'block';
            
            // Activate selected tab
            event.target.classList.add('active');
        }

        // FAQ Toggle
        function toggleFAQ(num) {
            const answer = document.getElementById('faq' + num);
            const question = event.currentTarget;
            const toggle = question.querySelector('span:last-child');
            
            if (answer.classList.contains('show')) {
                answer.classList.remove('show');
                toggle.textContent = '+';
            } else {
                answer.classList.add('show');
                toggle.textContent = 'âˆ’';
            }
        }

        // Razorpay Payment Integration
        async function initiatePayment() {
            const button = document.getElementById('buyButton');
            const buttonText = document.getElementById('buttonText');
            const buttonLoader = document.getElementById('buttonLoader');
            
            // Show loading state
            button.disabled = true;
            buttonText.textContent = 'Processing...';
            buttonLoader.style.display = 'inline-block';
            
            try {
                // Get order ID from server
                const response = await fetch('/.netlify/functions/create-order', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        amount: 249900, // Amount in paise (â‚¹2499.00)
                        currency: 'INR',
                        product: 'Modular Player Controller v3.0'
                    })
                });
                
                const orderData = await response.json();
                
                if (!orderData.success) {
                    throw new Error(orderData.error || 'Failed to create order');
                }
                
                // Razorpay Options
                const options = {
                    key: orderData.key_id, // From environment variable
                    amount: orderData.amount,
                    currency: orderData.currency,
                    name: 'Godot Game Assets Marketplace',
                    description: 'Modular Player Controller v3.0 Bundle',
                    order_id: orderData.order_id,
                    handler: async function(response) {
                        // Payment successful
                        await verifyPayment(response);
                    },
                    prefill: {
                        name: '',
                        email: '',
                        contact: ''
                    },
                    theme: {
                        color: '#ff6b35'
                    }
                };
                
                const rzp = new Razorpay(options);
                rzp.open();
                
                rzp.on('payment.failed', function(response) {
                    alert('Payment failed. Please try again.');
                    resetButton();
                });
                
            } catch (error) {
                console.error('Payment initiation error:', error);
                alert('Error initiating payment: ' + error.message);
                resetButton();
            }
            
            function resetButton() {
                button.disabled = false;
                buttonText.textContent = 'Buy Now - â‚¹2,499';
                buttonLoader.style.display = 'none';
            }
        }

        async function verifyPayment(paymentResponse) {
            try {
                const response = await fetch('/.netlify/functions/verify-payment', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(paymentResponse)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    // Show success message
                    document.getElementById('paymentSuccess').classList.add('show');
                    
                    // Send download link via email (simulated)
                    sendDownloadEmail(paymentResponse.razorpay_payment_id);
                    
                    // Reset button
                    const button = document.getElementById('buyButton');
                    const buttonText = document.getElementById('buttonText');
                    const buttonLoader = document.getElementById('buttonLoader');
                    button.style.display = 'none';
                    buttonLoader.style.display = 'none';
                } else {
                    alert('Payment verification failed. Please contact support.');
                }
                
            } catch (error) {
                console.error('Payment verification error:', error);
                alert('Error verifying payment. Please contact support with your payment ID.');
            }
        }

        function sendDownloadEmail(paymentId) {
            // In a real implementation, this would call your backend
            console.log('Payment successful! ID:', paymentId);
            console.log('Download link would be sent to customer email');
            
            // Simulate email sending
            setTimeout(() => {
                console.log('Download link sent to customer email');
                console.log('GitHub repository access granted');
            }, 1000);
        }

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
    </script>
</body>
</html>
